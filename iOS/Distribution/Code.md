# Code Distribution

While developing software solutions one can't write everything. There are various functionalities which are already available
and those could be utilised to avoid re-inventing everything and speed up development time. Also at times one needs to develop
some functionality once and re-use it elsewhere.
In both the above cases there is a need for packaging and distributing software so as to re-use it in projects. This is
where libraries, frameworks and packages comes in.

## About files, object files etc.

### Object Files
Every source file is converted into object file. An object file is a compiled binary file which contains machine code,
data, and other information generated by a compiler from the corresponding source code file.

These object files gets packaged into some executable which could be some application, framework or library.

- Bundles (Apps, Frameworks)
- File (Library)

## Libraries
A Library is essentially a set of functions that one can call. Each call does some work and returns control back to the
code using the library.
A Library is a collection of *object files* which the program which imports can link to. Libraries contain only the executable
code. Libraries in Apple ecosystem can be of two types :-

1. Static Library
2. Dynamic Library

### Static Library
These are object files archived into a *.a* file. Static libraries gets statically linked at compile time. So we have the
application using the static library and it needs to be linked to it. So the static linker takes the application's compiled
source code and the library code i.e. the *.a* file and collects into single executable. This executable is loaded into
the memory in its entirety at runtime.

One limitation for static library is that if multiple programs are using same static library, then the static library gets
copied for each program, basically each executable will have its own static library also loaded in memory

### Dynamic Library
Dynamic Libraries are *.dylib* files.
The linker problem with static library is addressed by dynamic library. Dynamic library is not packaged with the main executable, instead a reference is included. Dynamic libraries stored and versioned separately.

Dynamic library solves the limitation of static library where those used to get copied for each program. As dynamic library
is not packaged with program and only reference is saved it prevents duplication.

## Framework
A Framework embodies some abstract design, with more behavior built in. In order to use it you need to insert your behavior into various places in the framework either by subclassing or by plugging in your own classes. The framework's code then calls your code at these points. The main control of the program is inverted, moved away from you to the framework. This phenomenon is Inversion of Control.

### Where is product when a framework project is built with Xcode?
Initially in Xcode project navigator itself one could see the generated product once the framework was built. Now however
it is not visible in Xcoce. To go to product folder one needs to go to derived data directory in Finder. Or a shortcut way
to reach there is using following Xcode menu option :-

Xcode -> Product -> Show Build Folder in Finder


## Framework vs Library

Good discussion on this which argues that the key difference in framework and library comes from inversion of control.

https://martinfowler.com/bliki/InversionOfControl.html


## TODOs
- [ ] How to build a framework for devices and simulators via xcode and command line
- [ ] Add command line scripts and document those for further usage
- [ ] How to create release framework and publish it on GitHub
